<!doctype html>
<html>

  <head>
	  <meta charset="UTF-8" />
	  
      <title>dwrolvink.com</title>
      <link rel="stylesheet" type="text/css" href="style.css" />
      <link rel="icon" href="fav.png">

      <link href="https://fonts.googleapis.com/css?family=Major+Mono+Display|Source+Code+Pro|Open+Sans" rel="stylesheet" />
      <script src="https://unpkg.com/eva-icons"></script>

  

  </head>

	<body>
		<header id="headerdiv">
			
			<section>
            	<article style="text-align: center; ">
                	<h1 style="font-size: 0.8rem;">d w r o l v i n k . c o m !</h1>
				</article>
				<article>
						<p class="buttonr" style="background-color:rgb(69, 79, 90); " onclick="LoadDiv('main','columns',false);">Columns</p> 
						<p class="buttonr" style="background-color:rgb(90, 69, 90); " onclick="LoadDiv('main','contact',false);">Contact</p> 
					</div>
				</article>
      		</section>      
		</header>

    <main id="main">
			
    </main>



    <script>
		// Call LoadHomePage when the page is done loading.
		window.onload = function () {
			LoadHomePage();
		}	
		
		// Load default elements on first loading page
        function LoadHomePage(){
			var view = getParameterByName('view');

			// Currently loading the "under construction" message in the header div
			LoadDiv('headerdiv','header',true);

			// Load the html for in the main div
			if (view) {
				LoadDiv('main',view,false);
			}
			else {
				LoadDiv('main','contact',false);
			}
		}

		// Ask GetHTML to pick up the html for a file, and call back to LoadDivExecute when ready
        function LoadDiv(id, name, add=false){
			var file = "Pages/" + name + ".html";

			HTMLLoaderElement = [file, LoadDivExecute, [id, add]];
			GetHTML(HTMLLoaderElement);
			window.history.pushState(name, 'dwrolvink.com', '?view='+name);
		}
		
		// Gets content from a file and returns it to the callback function + the callback options
		// Takes in a Loader element:
		// [filename, function to call back when ready, option(s)) for callbackfunction]
		function GetHTML(Loader){
			var file = Loader[0];
			var CallbackFunction = Loader[1];
			var CallbackOptions = Loader[2];

			// Define what to do when you get the answer of the request
			xhttp = new XMLHttpRequest();
			xhttp.onreadystatechange = function() {
				if (this.readyState == 4) {
					if (this.status == 200) {
						// CallBack
						CallbackFunction(this.responseText, CallbackOptions);
					}
					if (this.status == 404) {
						console.log("File not found.");
					}
				}
			} 
			// Make the HTML request
			xhttp.open("GET", file, true);
			xhttp.send();
		}

		// Puts html received from GetHTML into an element with given id.
    	function LoadDivExecute(response, options){
      		var id = options[0];
      		var add = options[1];
			var html = response;

			SetInnerHTMLByID(id, html, add);
			
			// Replace the eva code (for the pictograms)
			eva.replace();
    	}

		// Sets innerhtml of a given element. 
		// Adds it instead of replacing when add=true
		function SetInnerHTMLByID(id, html, add=false){
			if (add){
				document.getElementById(id).innerHTML += html;
			}
			else{
				document.getElementById(id).innerHTML = html;
			}
		}

		// Returns innerhtml of an element with given id
		function GetInnerHTMLByID(id){
			return document.getElementById(id).innerHTML;
		}    

		// Get the value of a GET variable
		function getParameterByName(name, url) {
			if (!url) url = window.location.href;
			name = name.replace(/[\[\]]/g, '\\$&');
			var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
				results = regex.exec(url);
			
				if (!results) return null;
			if (!results[2]) return '';
			
			return decodeURIComponent(results[2].replace(/\+/g, ' '));
		}

		function GetMail(){
			var Ihopebotsarestupid = ["d", "w", "rolv", "ink", "@", "gm", "ail.", "com"];
			var str = '';
			Ihopebotsarestupid .forEach(element => {
				str+= element;
			});

			return str;
		}
      </script>

  </body>

</html>
